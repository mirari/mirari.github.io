import{d as p,o,c as r,a,U as S,C as f,V as Y,W as V,M as q,O as y,X as z,I,F as $,j as L,f as b,e as l,D as N,_ as F,b as _,Y as P,t as g,g as h,Z as T,w as R,i as H,$ as B,T as j,a0 as O,a1 as W,a2 as G,p as C,a3 as U,A as X,r as Z,v as J,x as K}from"./app-O6veFoRw.js";import{c as E}from"./index-x8TNrC4q.js";import{g as M}from"./animation-BMOl-TUl.js";const Q={class:"w-full px-4 flex-center"},ee={class:"yun-notice w-full"},te=["innerHTML"],ne=p({__name:"YunNotice",props:{content:{}},setup(c){return(e,t)=>(o(),r("div",Q,[a("div",ee,[a("span",{innerHTML:e.content},null,8,te),S(e.$slots,"default")])]))}}),se={class:"size-10 inline-flex-center"},oe=["href","title"],ae=p({__name:"PrologueSocialIcon",props:{social:{},delay:{}},setup(c){const e=c,t=f();return Y(t,{initial:{scale:.8,x:0,y:20,opacity:0},enter:{scale:1,x:0,y:0,opacity:1,transition:{type:"spring",duration:2e4,damping:8,delay:e.delay}}}),(n,s)=>{const u=V("tooltip");return q((o(),r("div",se,[a("a",{ref_key:"iconRef",ref:t,class:"prologue-social-icon inline-flex-center w-full h-full text-white bg-$c-brand hover:bg-white hover:text-$c-brand",rel:"noopener",href:n.social.link,title:n.social.name,target:"_blank",style:z(`--c-brand:${n.social.color}`)},[a("div",{class:y(["size-6",n.social.icon])},null,2)],12,oe)])),[[u,n.social.name]])}}}),re={flex:"~ wrap",class:"justify-center items-center mx-5"},ie=p({__name:"PrologueSocialLinks",setup(c){const e=I();return(t,n)=>{const s=ae;return o(),r("div",re,[(o(!0),r($,null,L(l(e).social,(u,i)=>(o(),b(s,{key:i,social:u,delay:i*50+1e3},null,8,["social","delay"]))),128))])}}}),ce=p({__name:"YunAERect",setup(c){const e=f(),t=f(),n=f(),s=f(),u=f(),i={type:"tween",duration:600,ease:E.easeIn};return Y(e,{initial:{backgroundColor:"rgba(255, 255, 255, 0)"},enter:{backgroundColor:"rgba(255, 255, 255, 0.05)",transition:{type:"keyframes",duration:1e3,ease:E.easeIn}}}),Y(t,{initial:{x:"-100%"},enter:{x:"0%",transition:i}}),Y(n,{initial:{y:"-100%"},enter:{y:"0%",transition:i}}),Y(s,{initial:{x:"100%"},enter:{x:"0%",transition:i}}),Y(u,{initial:{y:"100%"},enter:{y:"0%",transition:i}}),(m,d)=>(o(),r("div",{ref_key:"rectRef",ref:e,class:"absolute ae-rect"},[a("div",{ref_key:"tRef",ref:t},null,512),a("div",{ref_key:"lRef",ref:n},null,512),a("div",{ref_key:"bRef",ref:s},null,512),a("div",{ref_key:"rRef",ref:u},null,512)],512))}}),le=p({__name:"YunAEFrame",setup(c){const e=f(!1);return N(()=>{e.value=!0}),(t,n)=>(o(),r("div",{class:y(["yun-ae-frame",{play:e.value}])},n[0]||(n[0]=[a("div",{class:"tl absolute"},null,-1),a("div",{class:"tr absolute"},null,-1),a("div",{class:"bl absolute"},null,-1),a("div",{class:"br absolute"},null,-1)]),2))}}),ue={},_e={class:"grid-bg"},pe={flex:"~ col",class:"justify-center items-center absolute bottom-$rect-margin left-0 right-0"};function fe(c,e){const t=le,n=ce,s=ie;return o(),r("div",_e,[_(t),_(n),a("div",pe,[_(s)])])}const me=F(ue,[["render",fe]]),de={class:"say"},ve={key:0,class:"say-content animate-fade-in animate-iteration-1"},he={key:1,class:"say-author"},ye={key:2,class:"say-from"},be=p({__name:"YunSay",setup(c){const e=P(),t=f(""),n=f(""),s=f("");function u(){const i=e.value.say.hitokoto.enable?e.value.say.hitokoto.api:e.value.say.api;i&&fetch(i).then(m=>{if(m.ok)m.json().then(d=>{if(e.value.say.hitokoto.enable)t.value=d.hitokoto,n.value=d.from_who,s.value=d.from;else{const v=d[Math.floor(Math.random()*d.length)];v.content?(t.value=v.content,n.value=v.author,s.value=v.from):t.value=v}});else throw new Error(`${e.value.say.api}, HTTP error, status = ${m.status}`)}).catch(m=>{console.error(m.message)})}return N(()=>{u()}),(i,m)=>(o(),r("div",de,[t.value?(o(),r("span",ve,g(t.value),1)):h("v-if",!0),n.value?(o(),r("span",he,g(n.value),1)):h("v-if",!0),s.value?(o(),r("span",ye,g(s.value),1)):h("v-if",!0)]))}}),ge=p({__name:"YunGoDown",setup(c){return(e,t)=>(o(),r("button",{class:"go-down w-20 bottom-0 text-sm md:bottom-2 md:text-40px","aria-label":"go-down",onClick:t[0]||(t[0]=(...n)=>l(M)&&l(M)(...n))},t[1]||(t[1]=[a("div",{"i-ri-arrow-down-s-fill":"","inline-flex":""},null,-1)])))}}),$e=p({__name:"YunSiteLinkItem",props:{page:{}},setup(c){const e=T();return(t,n)=>{const s=H;return o(),b(s,{class:"link-item inline-flex-center gap-2 transition rounded text-base p-1 md:text-base md:p-2 lg:text-xl lg:p-3 text-$va-c-text","inline-flex":"",to:t.page.url,title:t.page.name,style:z(`color:${t.page.color}`),hover:"bg-white/80 dark:bg-black/80",onClick:n[0]||(n[0]=u=>l(e).fullscreenMenu.isOpen=!1)},{default:R(()=>[a("div",{class:y([t.page.icon,"icon"])},null,2),a("span",null,g(t.page.name),1)]),_:1},8,["to","title","style"])}}}),ke={key:0,class:"site-description text-$va-c-text text-sm"},xe=p({__name:"YunSiteDescription",setup(c){const e=I();return(t,n)=>l(e).description?(o(),r("div",ke,g(l(e).description),1)):h("v-if",!0)}}),we={key:0,class:"site-subtitle block text-$va-c-text op-80",text:"sm"},Ye=p({__name:"YunSiteSubtitle",setup(c){const e=I();return(t,n)=>l(e).subtitle?(o(),r("h4",we,g(l(e).subtitle),1)):h("v-if",!0)}}),Ce={key:0,class:"site-author-intro",m:"t-0 b-4"},Se=p({__name:"YunAuthorIntro",setup(c){const e=I();return(t,n)=>l(e).author.intro?(o(),r("div",Ce,g(l(e).author.intro),1)):h("v-if",!0)}}),Ae={key:0,class:"line-burst-effects absolute"},Re=p({__name:"LineBurstEffects",props:{delay:{},duration:{}},setup(c){const e=c,t=f(!0);return N(async()=>{await B(e.delay),t.value=!1,await B(e.duration),t.value=!0}),(n,s)=>t.value?h("v-if",!0):(o(),r("div",Ae,[(o(),r($,null,L(8,u=>a("div",{key:u,class:"line"},s[0]||(s[0]=[a("div",null,[a("span")],-1)]))),64))]))}}),Be={flex:"~ col",class:"yun-square-container items-center justify-center text-center size-$total-char-height"},ze={flex:"~ col",class:"absolute yun-square square-rotate z-1 bg-white/80"},Ie={flex:"~ col",class:"gap-2 items-center justify-center","my-4":"","md:my-5":"","lg:my-6":"","py-4":"","md:py-6":"",border:"t-1px b-1px black/60 dark:white/60"},Le={class:"mt-4 flex-center w-64 md:w-100 m-auto gap-2",flex:"~ wrap",p:"x-$rect-margin"},Ne=p({__name:"YunPrologueSquare",setup(c){const e=P(),t=f(!1);return(n,s)=>{const u=Re,i=O,m=W,d=Se,v=G,A=Ye,k=xe,x=$e;return o(),r("div",Be,[S(n.$slots,"default",{},void 0,!0),a("div",{flex:"~ col center",class:y(["info-with-avatar relative duration-800 transition-cubic-bezier-ease-in",{show:t.value}])},[_(j,{"enter-from-class":"enter-from","enter-to-class":"enter-to",appear:"",onAfterAppear:s[0]||(s[0]=w=>t.value=!0)},{default:R(()=>[a("div",ze,[_(u,{class:"absolute top-0 left-0 right-0 bottom-0 size-full scale-200",delay:200,duration:400}),_(j,{"enter-from-class":"op-0","enter-to-class":"op-100","enter-active-class":"transition-400 delay-400",appear:""},{default:R(()=>[_(i)]),_:1})])]),_:1}),a("div",{class:y(["info",{show:t.value}])},[_(m,{class:"mt-3"}),_(d),a("div",Ie,[_(v),_(A),_(k)]),a("div",Le,[_(x,{page:{name:"博客文章",icon:"i-ri-article-line",url:"/posts/"}}),S(n.$slots,"default",{},void 0,!0),(o(!0),r($,null,L(l(e).pages,(w,D)=>(o(),b(x,{key:D,page:w},null,8,["page"]))),128))])],2)],2)])}}}),Pe=F(Ne,[["__scopeId","data-v-e4188220"]]),De={class:"banner-char-container"},Te={class:"char"},je=p({__name:"YunBannerCharContainer",props:{title:{},chars:{}},setup(c){return(e,t)=>(o(),r("div",De,[(o(!0),r($,null,L(e.title,(n,s)=>(o(),r("div",{key:s,class:"char-box"},[a("span",{class:y([s%2!==0?"char-right":"char-left"]),style:z({"--banner-char-size":`${e.chars[s]}rem`})},[a("span",Te,g(n),1)],6)]))),128))]))}});function Ee(c){const e=C(()=>{const n=[];for(let s=0;s<c.title.length;s++){const u=U(1.5,3.5);n.push(u)}return n}),t=C(()=>e.value.reduce((n,s)=>n+s,0));return{chars:e,totalCharHeight:t}}const Me={class:"banner-line-container"},Fe={class:"banner-line-container bottom"},Ve=p({__name:"YunBanner",setup(c){const e=T(),t=P(),{totalCharHeight:n,chars:s}=Ee(t.value.banner),u=C(()=>{const v={"--total-char-height":`${n.value}rem`,"--banner-line-height":`calc(var(--banner-height, 100 * var(--vh)) / 2 - ${n.value/2}rem)`,"justify-content":"space-between"};return e.isStrato&&(v.borderBottom="1px solid var(--banner-line-color)"),v}),i=f("enter"),m=C(()=>i.value),d=f("banner");return N(async()=>{await B(500),i.value="active",e.isNimbo&&(await B(500),i.value="exit",d.value="prologue")}),(v,A)=>{const k=je,x=Pe,w=ge;return o(),r("div",{id:"yun-banner",style:z(u.value)},[a("div",Me,[a("div",{class:y(["banner-line vertical-line-top",m.value])},null,2)]),l(e).isNimbo?(o(),r($,{key:0},[d.value==="banner"?(o(),b(k,{key:0,title:l(t).banner.title,chars:l(s)},null,8,["title","chars"])):(o(),b(x,{key:1,class:"z-1"}))],64)):h("v-if",!0),l(e).isStrato?(o(),b(k,{key:1,title:l(t).banner.title,chars:l(s)},null,8,["title","chars"])):h("v-if",!0),a("div",Fe,[a("div",{class:y(["banner-line vertical-line-bottom",m.value])},null,2)]),_(w)],4)}}}),We=p({__name:"home",setup(c){const e=T(),t=X(),n=P(),s=C(()=>t.path.startsWith("/page")),u=C(()=>{const i=n.value.notice;return i.enable&&(s.value?!i.hideInPages:!0)});return(i,m)=>{const d=Ve,v=be,A=me,k=ne,x=Z("RouterView"),w=J,D=K;return o(),r($,null,[_(w,{class:y(["items-center flex-col",{"mt-0!":!s.value}])},{default:R(()=>[s.value?h("v-if",!0):(o(),r($,{key:0},[_(d),l(n).say.enable?(o(),b(v,{key:0,w:"full"})):h("v-if",!0),l(e).isNimbo?(o(),b(A,{key:1,class:"absolute left-0 top-0 right-0 bottom-0"})):h("v-if",!0)],64)),u.value?(o(),b(k,{key:1,class:y(["mb-2 md:mb-6",{"mt-4":!s.value}]),content:l(n).notice.content},null,8,["class","content"])):h("v-if",!0),S(i.$slots,"board"),S(i.$slots,"default",{},()=>[_(x)])]),_:3},8,["class"]),_(D)],64)}}});export{We as default};
